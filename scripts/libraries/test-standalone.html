<!DOCTYPE html>
<html>
<head>
    <title>Standalone Version Test</title>
</head>
<body>
    <h1>Testing Standalone Universal Save System</h1>
    <div id="output"></div>
    
    <script src="../firebase/firebaseconfig.js"></script>
    <script src="universal-save-standalone.js"></script>
    <script>
        async function test() {
            const output = document.getElementById('output');
            
            try {
                // Test the standalone version
                const saves = new UniversalSaveSystem();
                output.innerHTML += 'âœ… Created UniversalSaveSystem instance<br>';
                
                await saves.init();
                output.innerHTML += 'âœ… Initialized save system<br>';
                
                const status = saves.status();
                output.innerHTML += `ğŸ“Š Status: ${JSON.stringify(status)}<br>`;
                
                // Test save/load
                const testData = { message: 'Hello from standalone!', timestamp: Date.now() };
                await saves.save('standalone-test', testData);
                output.innerHTML += 'âœ… Saved test data<br>';
                
                const loaded = await saves.load('standalone-test');
                output.innerHTML += `âœ… Loaded data: ${JSON.stringify(loaded)}<br>`;
                
                // Test list
                const gameList = await saves.list();
                output.innerHTML += `ğŸ“‹ Available saves: ${gameList.join(', ')}<br>`;
                
                output.innerHTML += '<br>ğŸ‰ All tests passed!';
                
            } catch (error) {
                output.innerHTML += `âŒ Error: ${error.message}<br>`;
                console.error(error);
            }
        }
        
        // Wait for Firebase to be ready and then test
        window.addEventListener('dbReady', test);
        
        // Fallback in case Firebase doesn't initialize
        setTimeout(test, 2000);
    </script>
</body>
</html>